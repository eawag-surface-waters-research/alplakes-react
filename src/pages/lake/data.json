{
  "metadata": {
    "key": "geneva",
    "name": {
      "EN": "Lake Geneva",
      "DE": "Genfersee",
      "FR": "Le Léman",
      "IT": "Lago Lemano"
    },
    "latitude": 46.45,
    "longitude": 6.5,
    "flags": ["swiss", "french"],
    "area": 580,
    "ave_depth": 154,
    "max_depth": 310,
    "default_depth": 0.7,
    "elevation": 372,
    "type": "Natural",
    "volume": 89.0,
    "residence_time": 4160.0,
    "mixing_regime": "Oligomictic",
    "trophic_state": "Mesotrophic",
    "geothermal_flux": 0.08,
    "bounds": {
      "southWest": [46.2, 6.147],
      "northEast": [46.52, 6.93]
    },
    "bathymetry": [
      {
        "type": "1D",
        "url": "https://www.datalakes-eawag.ch/lakemorphology?lakegeneva_1",
        "source": "Swisstopo Vector25",
        "format": "JSON"
      },
      {
        "type": "3D",
        "url": "https://www.swisstopo.admin.ch/en/height-model-swissbathy3d#swissBATHY3D---Download",
        "source": "Swisstopo swissBATHY3D",
        "format": "XYZ"
      }
    ],
    "insitu": [
      {
        "url": "https://www.datalakes-eawag.ch/datadetail/666",
        "name": "LéXPLORE Idronaut",
        "live": true,
        "parameters": ["Water Temperature", "Oxygen", "Chlorophyll"],
        "start": 2020,
        "end": "Now"
      },
      {
        "url": "https://www.datalakes-eawag.ch/datadetail/885",
        "name": "LéXPLORE Wave Buoy",
        "live": true,
        "parameters": ["Wave Height", "Wave Period", "Wave Direction"],
        "start": 2022,
        "end": "Now"
      },
      {
        "url": "https://www.datalakes-eawag.ch/datadetail/597",
        "name": "Buchillon Field Station",
        "live": true,
        "parameters": ["Water Temperature", "Air Temperature"],
        "start": 2016,
        "end": "Now"
      },
      {
        "url": "https://www.datalakes-eawag.ch/datadetail/886",
        "name": "LéXPLORE Heat Flux",
        "live": true,
        "parameters": ["Heat Flux"],
        "start": 2020,
        "end": "Now"
      }
    ],
    "available": [
      {
        "url": "https://medium.com/@runnalls.james/operational-3d-lake-modeling-with-delft3d-2f164859e753",
        "name": "Delft3D Model",
        "live": true,
        "parameters": ["Water Temperature", "Current", "Thermocline"],
        "start": 2019,
        "end": "5 day forecast",
        "type": "alplakes_hydrodynamic"
      },
      {
        "url": "https://medium.com/@runnalls.james/operational-1d-lake-modeling-with-simstrat-dc34964bfe08",
        "name": "Simstrat 1D Model",
        "live": true,
        "parameters": ["Water Temperature", "Oyxgen", "Ice Cover"],
        "start": 1981,
        "end": "5 day forecast",
        "type": "simstrat"
      },
      {
        "url": "https://medium.com/@runnalls.james/water-quality-products-from-remote-sensing-data-using-sencast-e48449bd6aa8",
        "name": "Sentinel Satellite Products",
        "live": true,
        "parameters": ["Chlorophyll A", "Secchi Depth", "Turbidity"],
        "start": 2016,
        "end": "Now",
        "type": "sencast_tiff"
      }
    ]
  },
  "modules": [
    {
      "id": "threed_map",
      "title": "Temperature and Currents",
      "subtitle": "3D Model",
      "component": "map",
      "labels": {
        "topRight": "5 day forecast"
      },
      "defaults": ["3D_currents", "3D_temperature"]
    },
    {
      "id": "graph_conditions",
      "title": "Temperature, Oxygen and Ice",
      "subtitle": "1D Model",
      "component": "graph"
    },
    {
      "id": "satellite_chla",
      "title": "Chlorophyll A",
      "subtitle": "Remote Sensing Product",
      "component": "map",
      "labels": {
        "topRight": "satelliteDatetime",
        "topLeft": "satelliteAverage"
      },
      "defaults": ["satellite_chlorophyll"]
    },
    {
      "id": "satellite_secchi",
      "title": "Secchi Depth",
      "subtitle": "Remote Sensing Product",
      "component": "map",
      "labels": {
        "topRight": "satelliteDatetime",
        "topLeft": "satelliteAverage"
      },
      "defaults": ["satellite_secchi"]
    },
    {
      "id": "satellite_turbidity",
      "title": "Turbidity",
      "subtitle": "Remote Sensing Product",
      "component": "map",
      "labels": {
        "topRight": "satelliteDatetime",
        "topLeft": "satelliteAverage"
      },
      "defaults": ["satellite_turbidity"]
    },
    {
      "id": "threed_thermocline",
      "title": "Thermocline",
      "subtitle": "3D Model",
      "component": "map",
      "labels": {
        "topRight": "5 day forecast"
      },
      "defaults": ["3D_thermocline"]
    },
    {
      "id": "graph_historic",
      "title": "Historic Trends",
      "subtitle": "Models and insitu data",
      "component": "graph"
    }
  ],
  "layers": [
    {
      "id": "3D_temperature",
      "type": "threed",
      "playControls": true,
      "depth": true,
      "parameter": "temperature",
      "unit": "°C",
      "display": "raster",
      "source": "alplakes_delft3d",
      "summaryGraph": "threed_linegraph",
      "displayOptions": {
        "paletteName": "Balance",
        "zIndex": 1,
        "labels": true,
        "interpolate": true
      },
      "sources": {
        "alplakes_delft3d": {
          "type": "alplakes_hydrodynamic",
          "model": "delft3d-flow",
          "height": 182,
          "width": 36,
          "start": -7,
          "end": "/simulations/metadata/delft3d-flow/geneva",
          "bucket": "/simulations/delft3d-flow/metadata/geneva/metadata.json",
          "description": "Water temperatures are hindcasted and forecasted using the 3D hydrodynamic model Delft3D-flow. Meteorological forcing data is produced from Meteoswiss products, hincasts use the Cosmo-1e 1 day deterministic product (VNXQ34) and forecasts use the Cosmo-2e 5 day ensemble forecast (VNXZ32). Where rivers inputs are used this data is sourced from Bafu. This model is calibrated using in-situ measuresuments collected by a number of 3rd parties.",
          "learnMore": "https://medium.com/@runnalls.james/operational-3d-lake-modeling-with-delft3d-2f164859e753"
        }
      },
      "labels": [
        { "name": "Lausanne", "latlng": [46.50995, 6.61172] },
        {
          "name": "Geneva",
          "latlng": [46.22034, 6.1564],
          "direction": "right"
        },
        {
          "name": "Thonon",
          "latlng": [46.37547, 6.47259],
          "direction": "bottom"
        },
        { "name": "Vevey", "latlng": [46.45841, 6.84158] }
      ]
    },
    {
      "id": "3D_currents",
      "type": "threed",
      "playControls": true,
      "depth": true,
      "parameter": "velocity",
      "unit": "m/s",
      "display": "current",
      "source": "alplakes_delft3d",
      "summaryGraph": "threed_linegraph",
      "displayOptions": {
        "raster": false,
        "streamlines": false,
        "arrows": true,
        "vector": true,
        "paths": 5000,
        "streamlinesColor": "#ffffff",
        "arrowsColor": "#000000",
        "width": 0.5,
        "fade": 0.97,
        "duration": 10,
        "maxAge": 80,
        "velocityScale": 0.01,
        "opacity": 0.8,
        "zIndex": 3,
        "paletteName": "Thermal"
      },
      "sources": {
        "alplakes_delft3d": {
          "type": "alplakes_hydrodynamic",
          "model": "delft3d-flow",
          "height": 182,
          "width": 36,
          "start": -7,
          "end": "/simulations/metadata/delft3d-flow/geneva",
          "bucket": "/simulations/delft3d-flow/metadata/geneva/metadata.json",
          "description": "Lake currents are hindcasted and forecasted using the 3D hydrodynamic model Delft3D-flow. Meteorological forcing data is produced from Meteoswiss products, hincasts use the Cosmo-1e 1 day deterministic product (VNXQ34) and forecasts use the Cosmo-2e 5 day ensemble forecast (VNXZ32). Where rivers inputs are used this data is sourced from Bafu. This model is calibrated using in-situ measuresuments collected by a number of 3rd parties.",
          "learnMore": "https://medium.com/@runnalls.james/operational-3d-lake-modeling-with-delft3d-2f164859e753"
        }
      }
    },
    {
      "id": "3D_thermocline",
      "type": "threed",
      "playControls": true,
      "depth": false,
      "parameter": "thermocline",
      "unit": "m",
      "display": "raster",
      "source": "alplakes_delft3d",
      "summaryGraph": "threed_linegraph",
      "displayOptions": {
        "paletteName": "navia reverse",
        "zIndex": 2,
        "labels": true,
        "interpolate": true
      },
      "sources": {
        "alplakes_delft3d": {
          "type": "alplakes_hydrodynamic",
          "model": "delft3d-flow",
          "height": 182,
          "width": 36,
          "start": -7,
          "end": "/simulations/metadata/delft3d-flow/geneva",
          "bucket": "/simulations/delft3d-flow/metadata/geneva/metadata.json",
          "description": "Thermocline depth calculated using Pylake and the 3D hydrodynamic model Delft3D-flow. Meteorological forcing data is produced from Meteoswiss products, hincasts use the Cosmo-1e 1 day deterministic product (VNXQ34) and forecasts use the Cosmo-2e 5 day ensemble forecast (VNXZ32). Where rivers inputs are used this data is sourced from Bafu. This model is calibrated using in-situ measuresuments collected by a number of 3rd parties.",
          "learnMore": "https://medium.com/@runnalls.james/operational-3d-lake-modeling-with-delft3d-2f164859e753"
        }
      },
      "labels": [
        { "name": "LéXPLORE", "latlng": [46.5, 6.67], "direction": "left" },
        { "name": "SHL2", "latlng": [46.45, 6.59], "direction": "bottom" }
      ]
    },
    {
      "id": "3D_particles",
      "type": "threed",
      "playControls": true,
      "depth": true,
      "parameter": "particles",
      "unit": "m/s",
      "display": "particles",
      "source": "alplakes_delft3d",
      "displayOptions": {
        "paths": 10,
        "spread": 1500,
        "zIndex": 4
      },
      "sources": {
        "alplakes_delft3d": {
          "type": "alplakes_particles",
          "model": "delft3d-flow",
          "height": 182,
          "width": 36,
          "start": -7,
          "end": "/simulations/metadata/delft3d-flow/geneva",
          "bucket": "/simulations/delft3d-flow/metadata/geneva/metadata.json",
          "description": "Track particles using the alplakes 3D hydrodynamic model. Click the particles button (top left) to add some particles. Press play to see where the particles go.",
          "learnMore": "https://medium.com/@runnalls.james/operational-3d-lake-modeling-with-delft3d-2f164859e753"
        }
      }
    },
    {
      "id": "3D_transect",
      "type": "threed",
      "playControls": false,
      "depth": false,
      "parameter": "transect",
      "unit": "°C",
      "display": "transect",
      "source": "alplakes_delft3d",
      "summaryGraph": "transect_plot",
      "displayOptions": {
        "paletteName": "Balance",
        "zIndex": 11,
        "variable": "temperature",
        "thresholdStep": 200
      },
      "sources": {
        "alplakes_delft3d": {
          "type": "alplakes_transect",
          "model": "delft3d-flow",
          "variables": ["temperature", "u", "v"],
          "description": "Explore the inner workings of the lake. The transect tool allows you to cut a slice through the lake and visualise the spatial variations.",
          "learnMore": "https://medium.com/@runnalls.james/operational-3d-lake-modeling-with-delft3d-2f164859e753"
        }
      }
    },
    {
      "id": "3D_profile",
      "type": "threed",
      "playControls": false,
      "depth": false,
      "parameter": "profile",
      "unit": "°C",
      "display": "profile",
      "source": "alplakes_delft3d",
      "summaryGraph": "profile_plot",
      "displayOptions": {
        "paletteName": "Balance",
        "zIndex": 11,
        "variable": "temperature",
        "thresholdStep": 200
      },
      "sources": {
        "alplakes_delft3d": {
          "type": "alplakes_profile",
          "model": "delft3d-flow",
          "variables": ["temperature", "u", "v"],
          "description": "Explore the inner workings of the lake. The profile tool allows you to visualise the temporal variations at a user selected point.",
          "learnMore": "https://medium.com/@runnalls.james/operational-3d-lake-modeling-with-delft3d-2f164859e753"
        }
      }
    },
    {
      "id": "satellite_chlorophyll",
      "type": "satellite",
      "playControls": false,
      "depth": false,
      "parameter": "chla",
      "unit": "mg m-3",
      "display": "tiff",
      "source": "sencast",
      "summaryGraph": "satellite_timeseries",
      "displayOptions": {
        "paletteName": "Rainbow",
        "zIndex": 2,
        "opacity": 1,
        "convolve": 2,
        "wms": false,
        "min": 0,
        "max": 12,
        "dataMin": 0,
        "dataMax": 12,
        "coverage": 10
      },
      "sources": {
        "sencast": {
          "type": "sencast_tiff",
          "models": [
            {
              "model": "Sentinel3",
              "metadata": "/metadata/sentinel3/geneva_chla.json"
            }
          ],
          "bucket": "/metadata/latest/geneva_chla.json",
          "description": "Surface chlorophyll concentration processed from satellite data using the Sencast python package.",
          "learnMore": "https://medium.com/@runnalls.james/water-quality-products-from-remote-sensing-data-using-sencast-e48449bd6aa8",
          "onActivate": true
        }
      }
    },
    {
      "id": "satellite_secchi",
      "type": "satellite",
      "playControls": false,
      "depth": false,
      "parameter": "secchi",
      "unit": "m",
      "display": "tiff",
      "source": "sencast",
      "summaryGraph": "satellite_timeseries",
      "displayOptions": {
        "paletteName": "navia reverse",
        "zIndex": 2,
        "opacity": 1,
        "convolve": 2,
        "wms": false,
        "min": 0,
        "max": 12,
        "dataMin": 0,
        "dataMax": 12,
        "coverage": 10
      },
      "sources": {
        "sencast": {
          "type": "sencast_tiff",
          "models": [
            {
              "model": "Sentinel3",
              "metadata": "/metadata/sentinel3/geneva_Zsd_lee.json"
            },
            {
              "model": "Sentinel2",
              "metadata": "/metadata/sentinel2/geneva_Z490.json"
            }
          ],
          "bucket": "/metadata/latest/geneva_secchi.json",
          "description": "Secchi depth processed from satellite data using the Sencast python package.",
          "learnMore": "https://medium.com/@runnalls.james/water-quality-products-from-remote-sensing-data-using-sencast-e48449bd6aa8",
          "onActivate": true
        }
      }
    },
    {
      "id": "satellite_turbidity",
      "type": "satellite",
      "playControls": false,
      "depth": false,
      "parameter": "tsm",
      "unit": "g m-3",
      "display": "tiff",
      "source": "sencast",
      "summaryGraph": "satellite_timeseries",
      "displayOptions": {
        "paletteName": "Turbid",
        "zIndex": 2,
        "opacity": 1,
        "convolve": 2,
        "wms": false,
        "min": 0,
        "max": 3,
        "dataMin": 0,
        "dataMax": 3,
        "coverage": 10
      },
      "sources": {
        "sencast": {
          "type": "sencast_tiff",
          "models": [
            {
              "model": "Sentinel3",
              "metadata": "/metadata/sentinel3/geneva_tsm_binding754.json"
            },
            {
              "model": "Sentinel2",
              "metadata": "/metadata/sentinel2/geneva_tsm_dogliotti665.json"
            }
          ],
          "bucket": "/metadata/latest/geneva_tsm.json",
          "description": "Surface total suspended matter processed from satellite data using the Sencast python package.",
          "learnMore": "https://medium.com/@runnalls.james/water-quality-products-from-remote-sensing-data-using-sencast-e48449bd6aa8",
          "onActivate": true
        }
      }
    }
  ]
}
